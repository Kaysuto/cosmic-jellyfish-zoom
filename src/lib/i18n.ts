import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

// Traductions
const resources = {
  fr: {
    translation: {
      // ... (toutes les traductions existantes)
      "live_status_last_updated": "Statut en direct mis à jour",
      "next_update_in": "Prochaine mise à jour dans",
      "new_service_uptime_message": "L'historique de disponibilité pour les nouveaux services est généré après 24 heures. Les premières données apparaîtront demain.",
      "page_not_found_desc": "Désolé, la page que vous recherchez semble avoir disparu dans le néant.",
      "spotify_title": "Musique d'ambiance",
      "discord_title": "Rejoignez-nous sur Discord",
      "discord_online": "{{count}} en ligne",
      // Navigation
      "home": "Accueil",
      "status": "Statut",
      "admin": "Admin",
      "login": "Connexion",
      "settings": "Paramètres",
      
      // Page d'accueil
      "welcome": "Statut en temps réel des services Jelly",
      "homepage_description": "Cette page fournit des informations détaillées sur la disponibilité de nos systèmes. En cas d'incident, vous trouverez ici toutes les mises à jour.",
      "view_status": "Voir le statut du système",
      
      // Page de statut
      "status_title": "Statut des services",
      "all_systems_operational": "Tous les systèmes sont opérationnels",
      "partial_outage": "Panne partielle du système",
      "major_outage": "Panne majeure du système",
      "last_updated": "Dernière mise à jour :",
      "services_status": "Statut des services",
      "operational": "Opérationnel",
      "degraded": "Performances dégradées",
      "downtime": "Panne majeure",
      "maintenance": "En maintenance",
      "uptime": "Disponibilité :",
      "uptime_legend": "Disponibilité",
      "ping_legend": "Ping (ms)",
      "incident_history": "Historique des incidents",
      "uptime_history": "Historique de disponibilité",
      "no_incidents": "Aucun incident signalé dans les 90 derniers jours.",
      "resolved": "Résolu",
      "investigating": "En cours d'investigation",
      "monitoring": "Surveillance",
      "identified": "Identifié",
      "updated": "Mis à jour :",
      "all_systems_operational_description": "Cette page montre l'état actuel de tous les services Jelly. Si vous rencontrez des problèmes, veuillez consulter cette page pour les mises à jour.",
      "systems_issues_description": "Nous rencontrons actuellement des problèmes avec certains de nos services. Veuillez consulter cette page pour suivre notre progression.",
      "streaming_service": "Service de streaming principal",
      "accounts_service": "Gestion des comptes utilisateurs",
      "vod_service": "Demande de films et séries",
      "select_service": "Sélectionner un service",
      "loading": "Chargement",
      "no_uptime_history": "Aucun historique de disponibilité pour ce service.",
      "time_range_day": "Jour",
      "time_range_week": "Semaine",
      "time_range_month": "Mois",
      "time_range_year": "Année",
      "average": "Moyenne",
      "maximum": "Maximum",
      "minimum": "Minimum",
      "Service": "Service",
      "system_wide_incident": "Incident général",
      "url_monitoring": "URL de surveillance",
      "no_url_provided": "Aucune URL fournie",
      "scheduled_maintenance": "Maintenance planifiée",
      "all_services": "Tous les services",
      "page": "Page",
      "previous": "Précédent",
      "next": "Suivant",
      
      // Composants
      "made_with_dyad": "Fait avec Dyad",
      "made_with_love": "Créé avec",
      "by_kaysuto": "par Kaysuto Kimiya",
      
      // Messages d'erreur
      "page_not_found": "Oups ! Page non trouvée",
      "return_home": "Retour à l'accueil",

      // Admin & Auth
      "admin_login": "Connexion Administrateur",
      "email_address": "Adresse e-mail",
      "password": "Mot de passe",
      "email_placeholder": "Votre adresse e-mail",
      "password_placeholder": "Votre mot de passe",
      "sign_in": "Se connecter",
      "sign_up": "S'inscrire",
      "already_have_account": "Vous avez déjà un compte ? Connectez-vous",
      "dont_have_account": "Pas de compte ? Inscrivez-vous",
      "forgot_password": "Mot de passe oublié ?",
      "send_instructions": "Envoyer les instructions",
      "admin_dashboard": "Tableau de bord",
      "logout": "Déconnexion",
      "manage_services": "Gérer les services",
      "manage_incidents": "Gérer les incidents",
      "manage_maintenance": "Gérer la maintenance",
      "manage_users": "Gérer les utilisateurs",
      "create_incident": "Créer un incident",
      "edit_incident": "Modifier l'incident",
      "delete_incident": "Supprimer l'incident",
      "create_service": "Créer un service",
      "edit_service": "Modifier le service",
      "delete_service": "Supprimer le service",
      "schedule_maintenance": "Planifier une maintenance",
      "edit_maintenance": "Modifier la maintenance",
      "delete_maintenance": "Supprimer la maintenance",
      "title": "Titre",
      "description": "Description",
      "service": "Service",
      "start_time": "Début",
      "end_time": "Fin",
      "save": "Enregistrer",
      "saving": "Enregistrement...",
      "cancel": "Annuler",
      "delete": "Supprimer",
      "confirm_delete_title": "Êtes-vous sûr ?",
      "confirm_delete_incident": "Cette action est irréversible. L'incident sera supprimé définitivement.",
      "confirm_delete_service": "Cette action est irréversible. Le service sera supprimé définitivement.",
      "confirm_delete_maintenance": "Cette action est irréversible. La maintenance sera supprimée définitivement.",
      "confirm_delete_user": "Cette action est irréversible. L'utilisateur {{email}} sera supprimé définitivement.",
      "no_service_affected": "Aucun service spécifique",
      "return_to_dashboard": "Retour au tableau de bord",
      "language_settings": "Paramètres de langue",
      "select_language_desc": "Choisissez la langue d'affichage pour l'ensemble du site.",
      "error_saving_incident": "Erreur lors de l'enregistrement de l'incident.",
      "incident_saved_successfully": "Incident enregistré avec succès.",
      "error_deleting_incident": "Erreur lors de la suppression de l'incident.",
      "incident_deleted_successfully": "Incident supprimé avec succès.",
      "error_saving_service": "Erreur lors de l'enregistrement du service.",
      "service_saved_successfully": "Service enregistré avec succès.",
      "error_deleting_service": "Erreur lors de la suppression du service.",
      "service_deleted_successfully": "Service supprimé avec succès.",
      "error_saving_maintenance": "Erreur lors de l'enregistrement de la maintenance.",
      "maintenance_saved_successfully": "Maintenance enregistrée avec succès.",
      "error_deleting_maintenance": "Erreur lors de la suppression de la maintenance.",
      "maintenance_deleted_successfully": "Maintenance supprimée avec succès.",
      "error_deleting_user": "Erreur lors de la suppression de l'utilisateur.",
      "user_deleted_successfully": "Utilisateur supprimé avec succès.",
      "error_updating_role": "Erreur lors de la mise à jour du rôle.",
      "role_updated_successfully": "Rôle mis à jour avec succès.",
      "personal_information": "Informations personnelles",
      "update_your_personal_information": "Mettez à jour votre nom et prénom.",
      "first_name": "Prénom",
      "last_name": "Nom de famille",
      "save_changes": "Enregistrer les modifications",
      "change_email": "Changer l'adresse e-mail",
      "update_your_email_address": "Un e-mail de confirmation sera envoyé à votre nouvelle adresse.",
      "update_email": "Mettre à jour l'e-mail",
      "change_password": "Changer le mot de passe",
      "update_your_password": "Assurez-vous d'utiliser un mot de passe sécurisé.",
      "new_password": "Nouveau mot de passe",
      "confirm_new_password": "Confirmer le nouveau mot de passe",
      "update_password": "Mettre à jour le mot de passe",
      "first_name_required": "Le prénom est requis.",
      "last_name_required": "Le nom de famille est requis.",
      "invalid_email": "Adresse e-mail invalide.",
      "password_too_short": "Le mot de passe doit contenir au moins 6 caractères.",
      "passwords_do_not_match": "Les mots de passe ne correspondent pas.",
      "error_updating_profile": "Erreur lors de la mise à jour du profil.",
      "profile_updated_successfully": "Profil mis à jour avec succès.",
      "error_updating_email": "Erreur lors de la mise à jour de l'e-mail.",
      "email_update_confirmation_sent": "E-mail de confirmation envoyé. Veuillez vérifier votre nouvelle boîte de réception.",
      "error_updating_password": "Erreur lors de la mise à jour du mot de passe.",
      "password_updated_successfully": "Mot de passe mis à jour avec succès.",
      "role": "Rôle",
      "admin_role": "Administrateur",
      "user_role": "Utilisateur",
      "member_since": "Membre depuis",
      "last_update": "Dernière mise à jour",
      "assign_to": "Assigner à",
      "select_admin": "Sélectionner un administrateur",
      "total_services": "Services au total",
      "operational_services": "Services opérationnels",
      "active_incidents": "Incidents actifs",
      "avg_resolution_time": "Tps de résolution moy.",
      "actions": "Actions",
      "edit": "Modifier",
      "edit_service_desc": "Modifiez les détails de ce service ci-dessous.",
      "create_service_desc": "Remplissez les informations pour créer un nouveau service.",
      "edit_maintenance_desc": "Modifiez les détails de cette maintenance.",
      "schedule_maintenance_desc": "Remplissez les informations pour planifier une nouvelle maintenance.",
      "system_update": "Mise à jour système",
      "playjelly.fr": "playjelly.fr",
      "playjelly.fr_-_website": "playjelly.fr - Site Web",
      "playjelly.fr_-_minecraft": "playjelly.fr - Minecraft",
      "node_playjelly_fr": "Serveur Applicatif",
      "jellyfin": "Jellyfin",
      "jellyseerr": "Jellyseerr",
      "sonarr": "Sonarr",
      "radarr": "Radarr",
      "prowlarr": "Prowlarr",
      "qbittorrent": "qBittorrent",
      "homepage": "Page d'accueil",
      "status_page": "Page de statut",
      "admin_panel": "Panneau d'administration",
      "registration_settings": "Paramètres d'inscription",
      "allow_new_registrations_desc": "Contrôlez si de nouveaux utilisateurs peuvent s'inscrire sur le site.",
      "allow_new_registrations": "Autoriser les nouvelles inscriptions",
      "error_loading_settings": "Erreur lors du chargement des paramètres.",
      "error_updating_setting": "Erreur lors de la mise à jour du paramètre.",
      "registrations_enabled": "Les inscriptions sont maintenant activées.",
      "registrations_disabled": "Les inscriptions sont maintenant désactivées.",
      "registrations_are_closed": "Les inscriptions sont actuellement fermées. Veuillez contacter un administrateur."
    }
  },
  en: {
    translation: {
      // ... (toutes les traductions existantes)
      "live_status_last_updated": "Live status updated",
      "next_update_in": "Next update in",
      "new_service_uptime_message": "Uptime history for new services is generated after 24 hours. The first data will appear tomorrow.",
      "page_not_found_desc": "Sorry, the page you are looking for seems to have vanished into thin air.",
      "spotify_title": "Ambiant Music",
      "discord_title": "Join us on Discord",
      "discord_online": "{{count}} online",
      // Navigation
      "home": "Home",
      "status": "Status",
      "admin": "Admin",
      "login": "Login",
      "settings": "Settings",

      // Homepage
      "welcome": "Real-time Status of Jelly Services",
      "homepage_description": "This page provides detailed information about the availability of our systems. In case of an incident, you will find all updates here.",
      "view_status": "View System Status",

      // Status Page
      "status_title": "Services Status",
      "all_systems_operational": "All Systems Operational",
      "partial_outage": "Partial System Outage",
      "major_outage": "Major System Outage",
      "last_updated": "Last updated:",
      "services_status": "Services Status",
      "operational": "Operational",
      "degraded": "Degraded Performance",
      "downtime": "Major Outage",
      "maintenance": "Under Maintenance",
      "uptime": "Uptime:",
      "uptime_legend": "Uptime",
      "ping_legend": "Ping (ms)",
      "incident_history": "Incident History",
      "uptime_history": "Uptime History",
      "no_incidents": "No incidents reported in the last 90 days.",
      "resolved": "Resolved",
      "investigating": "Investigating",
      "monitoring": "Monitoring",
      "identified": "Identified",
      "updated": "Updated:",
      "all_systems_operational_description": "This page shows the current status of all Jelly services. If you are experiencing issues, please check this page for updates.",
      "systems_issues_description": "We are currently experiencing issues with some of our services. Please check this page to follow our progress.",
      "streaming_service": "Main Streaming Service",
      "accounts_service": "User Account Management",
      "vod_service": "Movies & Series Requests",
      "select_service": "Select a service",
      "loading": "Loading",
      "no_uptime_history": "No uptime history for this service.",
      "time_range_day": "Day",
      "time_range_week": "Week",
      "time_range_month": "Month",
      "time_range_year": "Year",
      "average": "Average",
      "maximum": "Maximum",
      "minimum": "Minimum",
      "Service": "Service",
      "system_wide_incident": "System-wide Incident",
      "url_monitoring": "Monitoring URL",
      "no_url_provided": "No URL provided",
      "scheduled_maintenance": "Scheduled Maintenance",
      "all_services": "All services",
      "page": "Page",
      "previous": "Previous",
      "next": "Next",

      // Components
      "made_with_dyad": "Made with Dyad",
      "made_with_love": "Created with",
      "by_kaysuto": "by Kaysuto Kimiya",

      // Error Messages
      "page_not_found": "Oops! Page not found",
      "return_home": "Return Home",

      // Admin & Auth
      "admin_login": "Admin Login",
      "email_address": "Email address",
      "password": "Password",
      "email_placeholder": "Your email address",
      "password_placeholder": "Your password",
      "sign_in": "Sign In",
      "sign_up": "Sign Up",
      "already_have_account": "Already have an account? Sign in",
      "dont_have_account": "Don't have an account? Sign up",
      "forgot_password": "Forgot your password?",
      "send_instructions": "Send instructions",
      "admin_dashboard": "Dashboard",
      "logout": "Logout",
      "manage_services": "Manage Services",
      "manage_incidents": "Manage Incidents",
      "manage_maintenance": "Manage Maintenance",
      "manage_users": "Manage Users",
      "create_incident": "Create Incident",
      "edit_incident": "Edit Incident",
      "delete_incident": "Delete Incident",
      "create_service": "Create Service",
      "edit_service": "Edit Service",
      "delete_service": "Delete Service",
      "schedule_maintenance": "Schedule Maintenance",
      "edit_maintenance": "Edit Maintenance",
      "delete_maintenance": "Delete Maintenance",
      "title": "Title",
      "description": "Description",
      "service": "Service",
      "start_time": "Start Time",
      "end_time": "End Time",
      "save": "Save",
      "saving": "Saving...",
      "cancel": "Cancel",
      "delete": "Delete",
      "confirm_delete_title": "Are you sure?",
      "confirm_delete_incident": "This action is irreversible. The incident will be permanently deleted.",
      "confirm_delete_service": "This action is irreversible. The service will be permanently deleted.",
      "confirm_delete_maintenance": "This action is irreversible. The maintenance will be permanently deleted.",
      "confirm_delete_user": "This action is irreversible. The user {{email}} will be permanently deleted.",
      "no_service_affected": "No specific service",
      "return_to_dashboard": "Return to Dashboard",
      "language_settings": "Language Settings",
      "select_language_desc": "Choose the display language for the entire site.",
      "error_saving_incident": "Error saving incident.",
      "incident_saved_successfully": "Incident saved successfully.",
      "error_deleting_incident": "Error deleting incident.",
      "incident_deleted_successfully": "Incident deleted successfully.",
      "error_saving_service": "Error saving service.",
      "service_saved_successfully": "Service saved successfully.",
      "error_deleting_service": "Error deleting service.",
      "service_deleted_successfully": "Service deleted successfully.",
      "error_saving_maintenance": "Error saving maintenance.",
      "maintenance_saved_successfully": "Maintenance saved successfully.",
      "error_deleting_maintenance": "Error deleting maintenance.",
      "maintenance_deleted_successfully": "Maintenance deleted successfully.",
      "error_deleting_user": "Error deleting user.",
      "user_deleted_successfully": "User deleted successfully.",
      "error_updating_role": "Error updating role.",
      "role_updated_successfully": "Role updated successfully.",
      "personal_information": "Personal Information",
      "update_your_personal_information": "Update your first and last name.",
      "first_name": "First Name",
      "last_name": "Last Name",
      "save_changes": "Save Changes",
      "change_email": "Change Email Address",
      "update_your_email_address": "A confirmation email will be sent to your new address.",
      "update_email": "Update Email",
      "change_password": "Change Password",
      "update_your_password": "Make sure to use a secure password.",
      "new_password": "New Password",
      "confirm_new_password": "Confirm New Password",
      "update_password": "Update Password",
      "first_name_required": "First name is required.",
      "last_name_required": "Last name is required.",
      "invalid_email": "Invalid email address.",
      "password_too_short": "Password must be at least 6 characters.",
      "passwords_do_not_match": "Passwords do not match.",
      "error_updating_profile": "Error updating profile.",
      "profile_updated_successfully": "Profile updated successfully.",
      "error_updating_email": "Error updating email.",
      "email_update_confirmation_sent": "Confirmation email sent. Please check your new inbox.",
      "error_updating_password": "Error updating password.",
      "password_updated_successfully": "Password updated successfully.",
      "role": "Role",
      "admin_role": "Administrator",
      "user_role": "User",
      "member_since": "Member since",
      "last_update": "Last Update",
      "assign_to": "Assign to",
      "select_admin": "Select an administrator",
      "total_services": "Total Services",
      "operational_services": "Operational Services",
      "active_incidents": "Active Incidents",
      "avg_resolution_time": "Avg. Resolution Time",
      "actions": "Actions",
      "edit": "Edit",
      "edit_service_desc": "Edit the details of this service below.",
      "create_service_desc": "Fill in the information to create a new service.",
      "edit_maintenance_desc": "Edit the details of this maintenance.",
      "schedule_maintenance_desc": "Fill in the information to schedule a new maintenance.",
      "system_update": "System Update",
      "playjelly.fr": "playjelly.fr",
      "playjelly.fr_-_website": "playjelly.fr - Website",
      "playjelly.fr_-_minecraft": "playjelly.fr - Minecraft",
      "node_playjelly_fr": "Application Server",
      "jellyfin": "Jellyfin",
      "jellyseerr": "Jellyseerr",
      "sonarr": "Sonarr",
      "radarr": "Radarr",
      "prowlarr": "Prowlarr",
      "qbittorrent": "qBittorrent",
      "homepage": "Homepage",
      "status_page": "Status Page",
      "admin_panel": "Admin Panel",
      "registration_settings": "Registration Settings",
      "allow_new_registrations_desc": "Control whether new users can sign up on the site.",
      "allow_new_registrations": "Allow new registrations",
      "error_loading_settings": "Error loading settings.",
      "error_updating_setting": "Error updating setting.",
      "registrations_enabled": "Registrations are now enabled.",
      "registrations_disabled": "Registrations are now disabled.",
      "registrations_are_closed": "Registrations are currently closed. Please contact an administrator."
    }
  }
};

i18n
  .use(LanguageDetector)
  .use(initReactI18next)
  .init({
    resources,
    fallbackLng: 'fr',
    interpolation: {
      escapeValue: false,
    },
    detection: {
      order: ['localStorage', 'navigator'],
      caches: ['localStorage'],
    },
  });

export default i18n;
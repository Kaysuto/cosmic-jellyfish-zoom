{"version":3,"file":"provider-2S-Iw40p.js","sources":["../../node_modules/vidstack/dist/prod/providers/hls/hls.js","../../node_modules/vidstack/dist/prod/providers/html/html–media-events.js","../../node_modules/vidstack/dist/prod/providers/html/native-audio-tracks.js","../../node_modules/vidstack/dist/prod/providers/html/provider.js"],"sourcesContent":["import { peek, effect } from 'maverick.js';\nimport { isUndefined, isNumber, DOMEvent, listenEvent, camelToKebabCase } from 'maverick.js/std';\nimport { F as ENABLE_AUTO_QUALITY, G as TextTrack, H as TEXT_TRACK_READY_STATE, J as TEXT_TRACK_ON_MODE_CHANGE, L as LIST_SELECT, K as SET_AUTO_QUALITY, N as LIST_ADD, P as IS_CHROME } from '../../media-core.js';\n\nclass RAFLoop {\n  constructor(_callback) {\n    this.jf = _callback;\n  }\n  xi;\n  O() {\n    if (!isUndefined(this.xi))\n      return;\n    this.yi();\n  }\n  P() {\n    if (isNumber(this.xi))\n      window.cancelAnimationFrame(this.xi);\n    this.xi = void 0;\n  }\n  yi() {\n    this.xi = window.requestAnimationFrame(() => {\n      if (isUndefined(this.xi))\n        return;\n      this.jf();\n      this.yi();\n    });\n  }\n}\n\nconst toDOMEventType = (type) => camelToKebabCase(type);\nclass HLSController {\n  constructor(_video) {\n    this.qa = _video;\n  }\n  ph;\n  za = null;\n  qh = null;\n  nh = {};\n  oh = /* @__PURE__ */ new Set();\n  get instance() {\n    return this.za;\n  }\n  setup(ctor, context) {\n    this.ph = context;\n    const isLive = peek(context.$store.streamType).includes(\"live\"), isLiveLowLatency = peek(context.$store.streamType).includes(\"ll-\");\n    this.za = new ctor({\n      lowLatencyMode: isLiveLowLatency,\n      backBufferLength: isLiveLowLatency ? 4 : isLive ? 8 : void 0,\n      renderTextTracksNatively: false,\n      ...this.nh\n    });\n    const dispatcher = this.rh.bind(this);\n    for (const event of Object.values(ctor.Events))\n      this.za.on(event, dispatcher);\n    this.za.on(ctor.Events.ERROR, this.Wb.bind(this));\n    for (const callback of this.oh)\n      callback(this.za);\n    context.player.dispatchEvent(new DOMEvent(\"hls-instance\", { detail: this.za }));\n    this.za.attachMedia(this.qa);\n    this.za.on(ctor.Events.AUDIO_TRACK_SWITCHED, this.sh.bind(this));\n    this.za.on(ctor.Events.LEVEL_SWITCHED, this.th.bind(this));\n    this.za.on(ctor.Events.LEVEL_LOADED, this.uh.bind(this));\n    this.za.on(ctor.Events.NON_NATIVE_TEXT_TRACKS_FOUND, this.vh.bind(this));\n    this.za.on(ctor.Events.CUES_PARSED, this.wh.bind(this));\n    context.qualities[ENABLE_AUTO_QUALITY] = this.xh.bind(this);\n    listenEvent(context.qualities, \"change\", this.Pf.bind(this));\n    listenEvent(context.audioTracks, \"change\", this.yh.bind(this));\n    this.qh = effect(this.zh.bind(this));\n  }\n  zh() {\n    if (!this.ph.$store.live())\n      return;\n    const raf = new RAFLoop(this.Ah.bind(this));\n    raf.O();\n    return raf.P.bind(raf);\n  }\n  Ah() {\n    this.ph.$store.liveSyncPosition.set(this.za?.liveSyncPosition ?? Infinity);\n  }\n  rh(eventType, detail) {\n    this.ph.player.dispatchEvent(new DOMEvent(toDOMEventType(eventType), { detail }));\n  }\n  vh(eventType, data) {\n    const event = new DOMEvent(eventType, { detail: data });\n    let currentTrack = -1;\n    for (let i = 0; i < data.tracks.length; i++) {\n      const nonNativeTrack = data.tracks[i], init = nonNativeTrack.subtitleTrack ?? nonNativeTrack.closedCaptions, track = new TextTrack({\n        id: `hls-${nonNativeTrack.kind}${i}`,\n        src: init?.url,\n        label: nonNativeTrack.label,\n        language: init?.lang,\n        kind: nonNativeTrack.kind\n      });\n      track[TEXT_TRACK_READY_STATE] = 2;\n      track[TEXT_TRACK_ON_MODE_CHANGE] = () => {\n        if (track.mode === \"showing\") {\n          this.za.subtitleTrack = i;\n          currentTrack = i;\n        } else if (currentTrack === i) {\n          this.za.subtitleTrack = -1;\n          currentTrack = -1;\n        }\n      };\n      if (nonNativeTrack.default)\n        track.setMode(\"showing\", event);\n      this.ph.textTracks.add(track, event);\n    }\n  }\n  wh(eventType, data) {\n    const track = this.ph.textTracks.getById(`hls-${data.track}`);\n    if (!track)\n      return;\n    const event = new DOMEvent(eventType, { detail: data });\n    for (const cue of data.cues) {\n      cue.positionAlign = \"auto\";\n      track.addCue(cue, event);\n    }\n  }\n  sh(eventType, data) {\n    const track = this.ph.audioTracks[data.id];\n    if (track) {\n      this.ph.audioTracks[LIST_SELECT](\n        track,\n        true,\n        new DOMEvent(eventType, { detail: data })\n      );\n    }\n  }\n  th(eventType, data) {\n    const quality = this.ph.qualities[data.level];\n    if (quality) {\n      this.ph.qualities[LIST_SELECT](\n        quality,\n        true,\n        new DOMEvent(eventType, { detail: data })\n      );\n    }\n  }\n  uh(eventType, data) {\n    if (this.ph.$store.canPlay())\n      return;\n    const { type, live, totalduration: duration } = data.details;\n    const event = new DOMEvent(eventType, { detail: data });\n    this.ph.delegate.p(\"stream-type-change\", {\n      detail: live ? type === \"EVENT\" && Number.isFinite(duration) ? \"live:dvr\" : \"live\" : \"on-demand\",\n      trigger: event\n    });\n    this.ph.delegate.p(\"duration-change\", { detail: duration, trigger: event });\n    const media = this.za.media;\n    if (this.za.currentLevel === -1) {\n      this.ph.qualities[SET_AUTO_QUALITY](true, event);\n    }\n    for (const track of this.za.audioTracks) {\n      this.ph.audioTracks[LIST_ADD](\n        {\n          id: track.id + \"\",\n          label: track.name,\n          language: track.lang || \"\",\n          kind: \"main\"\n        },\n        event\n      );\n    }\n    for (const level of this.za.levels) {\n      this.ph.qualities[LIST_ADD](\n        {\n          width: level.width,\n          height: level.height,\n          codec: level.codecSet,\n          bitrate: level.bitrate\n        },\n        event\n      );\n    }\n    media.dispatchEvent(new DOMEvent(\"canplay\", { trigger: event }));\n  }\n  Wb(eventType, data) {\n    if (data.fatal) {\n      switch (data.type) {\n        case \"networkError\":\n          this.za?.startLoad();\n          break;\n        case \"mediaError\":\n          this.za?.recoverMediaError();\n          break;\n        default:\n          this.za?.destroy();\n          this.za = null;\n          break;\n      }\n    }\n  }\n  xh() {\n    if (this.za)\n      this.za.currentLevel = -1;\n  }\n  Pf() {\n    const { qualities } = this.ph;\n    if (!this.za || qualities.auto)\n      return;\n    this.za[qualities.switch + \"Level\"] = qualities.selectedIndex;\n    if (IS_CHROME)\n      this.qa.currentTime = this.qa.currentTime;\n  }\n  yh() {\n    const { audioTracks } = this.ph;\n    if (this.za && this.za.audioTrack !== audioTracks.selectedIndex) {\n      this.za.audioTrack = audioTracks.selectedIndex;\n    }\n  }\n  Jg() {\n    if (this.ph)\n      this.ph.qualities[ENABLE_AUTO_QUALITY] = void 0;\n    this.za?.destroy();\n    this.za = null;\n    this.qh?.();\n    this.qh = null;\n  }\n}\n\nexport { HLSController as H, RAFLoop as R };\n","import { effect, onDispose } from 'maverick.js';\nimport { useDisposalBin, listenEvent, DOMEvent, isNil } from 'maverick.js/std';\nimport { R as RAFLoop } from '../hls/hls.js';\nimport { i as isHLSSrc } from '../audio/loader.js';\nimport { y as getNumberOfDecimalPlaces } from '../../media-ui.js';\nimport { I as IS_SAFARI } from '../../media-core.js';\n\nclass HTMLMediaEvents {\n  constructor(_provider, _context) {\n    this.q = _provider;\n    this.ph = _context;\n    this.Uh();\n    effect(this.Vh.bind(this));\n    onDispose(this.Eh.bind(this));\n  }\n  ih = useDisposalBin();\n  Nh = false;\n  Qh = false;\n  Rh = false;\n  Oh = new RAFLoop(this.Wh.bind(this));\n  get j() {\n    return this.q.media;\n  }\n  get jg() {\n    return this.ph.delegate;\n  }\n  Eh() {\n    this.Oh.P();\n    this.ih.empty();\n  }\n  /**\n   * The `timeupdate` event fires surprisingly infrequently during playback, meaning your progress\n   * bar (or whatever else is synced to the currentTime) moves in a choppy fashion. This helps\n   * resolve that by retrieving time updates in a request animation frame loop.\n   */\n  Wh() {\n    const newTime = this.q.currentTime;\n    if (this.ph.$store.currentTime() !== newTime)\n      this.Mh(newTime);\n  }\n  Uh() {\n    this.Lh(\"loadstart\", this.ge);\n    this.Lh(\"abort\", this.Sh);\n    this.Lh(\"emptied\", this.Xh);\n    this.Lh(\"error\", this.Wb);\n  }\n  Yh() {\n    if (this.Qh)\n      return;\n    this.ih.add(\n      this.Lh(\"loadeddata\", this.Zh),\n      this.Lh(\"loadedmetadata\", this._h),\n      this.Lh(\"canplay\", this.Rb),\n      this.Lh(\"canplaythrough\", this.$h),\n      this.Lh(\"durationchange\", this.ai),\n      this.Lh(\"play\", this.bi),\n      this.Lh(\"progress\", this.ci),\n      this.Lh(\"stalled\", this.di),\n      this.Lh(\"suspend\", this.ei)\n    );\n    this.Qh = true;\n  }\n  fi() {\n    if (this.Rh)\n      return;\n    this.ih.add(\n      this.Lh(\"pause\", this.gi),\n      this.Lh(\"playing\", this.hi),\n      this.Lh(\"ratechange\", this.ii),\n      this.Lh(\"seeked\", this.ji),\n      this.Lh(\"seeking\", this.ki),\n      this.Lh(\"ended\", this.li),\n      this.Lh(\"volumechange\", this.ac),\n      this.Lh(\"waiting\", this.mi)\n    );\n    this.Rh = true;\n  }\n  ni = void 0;\n  pi = void 0;\n  Lh(eventType, handler) {\n    return listenEvent(\n      this.j,\n      eventType,\n      handler.bind(this)\n    );\n  }\n  qi(event2) {\n    return;\n  }\n  Mh(time, trigger) {\n    this.jg.p(\"time-update\", {\n      // Avoid errors where `currentTime` can have higher precision.\n      detail: {\n        currentTime: Math.min(time, this.ph.$store.seekableEnd()),\n        played: this.j.played\n      },\n      trigger\n    });\n  }\n  ge(event2) {\n    if (this.j.networkState === 3) {\n      this.Sh(event2);\n      return;\n    }\n    this.Yh();\n    this.jg.p(\"load-start\", { trigger: event2 });\n  }\n  Sh(event2) {\n    this.jg.p(\"abort\", { trigger: event2 });\n  }\n  Xh() {\n    this.jg.p(\"emptied\", { trigger: event });\n  }\n  Zh(event2) {\n    this.jg.p(\"loaded-data\", { trigger: event2 });\n  }\n  _h(event2) {\n    this.Th();\n    this.fi();\n    this.jg.p(\"volume-change\", {\n      detail: {\n        volume: this.j.volume,\n        muted: this.j.muted\n      }\n    });\n    this.jg.p(\"loaded-metadata\", { trigger: event2 });\n    if (IS_SAFARI && isHLSSrc(this.ph.$store.source())) {\n      this.jg.lf(this.Ph(), event2);\n    }\n  }\n  Ph() {\n    return {\n      duration: this.j.duration,\n      buffered: this.j.buffered,\n      seekable: this.j.seekable\n    };\n  }\n  Th() {\n    const isLive = !Number.isFinite(this.j.duration);\n    this.jg.p(\"stream-type-change\", {\n      detail: isLive ? \"live\" : \"on-demand\"\n    });\n  }\n  bi(event2) {\n    if (!this.ph.$store.canPlay)\n      return;\n    this.jg.p(\"play\", { trigger: event2 });\n  }\n  gi(event2) {\n    if (this.j.readyState === 1 && !this.Nh)\n      return;\n    this.Nh = false;\n    this.Oh.P();\n    this.jg.p(\"pause\", { trigger: event2 });\n  }\n  Rb(event2) {\n    this.jg.lf(this.Ph(), event2);\n  }\n  $h(event2) {\n    if (this.ph.$store.started())\n      return;\n    this.jg.p(\"can-play-through\", {\n      trigger: event2,\n      detail: this.Ph()\n    });\n  }\n  hi(event2) {\n    this.Nh = false;\n    this.jg.p(\"playing\", { trigger: event2 });\n    this.Oh.O();\n  }\n  di(event2) {\n    this.jg.p(\"stalled\", { trigger: event2 });\n    if (this.j.readyState < 3) {\n      this.Nh = true;\n      this.jg.p(\"waiting\", { trigger: event2 });\n    }\n  }\n  mi(event2) {\n    if (this.j.readyState < 3) {\n      this.Nh = true;\n      this.jg.p(\"waiting\", { trigger: event2 });\n    }\n  }\n  li(event2) {\n    this.Oh.P();\n    this.Mh(this.j.duration, event2);\n    this.jg.p(\"end\", { trigger: event2 });\n    if (this.ph.$store.loop()) {\n      this.oi();\n    } else {\n      this.jg.p(\"ended\", { trigger: event2 });\n    }\n  }\n  Vh() {\n    if (this.ph.$store.paused()) {\n      listenEvent(this.j, \"timeupdate\", this.Vb.bind(this));\n    }\n  }\n  Vb(event2) {\n    this.Mh(this.j.currentTime, event2);\n  }\n  ai(event2) {\n    this.Th();\n    if (this.ph.$store.ended()) {\n      this.Mh(this.j.duration, event2);\n    }\n    this.jg.p(\"duration-change\", {\n      detail: this.j.duration,\n      trigger: event2\n    });\n  }\n  ac(event2) {\n    this.jg.p(\"volume-change\", {\n      detail: {\n        volume: this.j.volume,\n        muted: this.j.muted\n      },\n      trigger: event2\n    });\n  }\n  ji(event2) {\n    this.Mh(this.j.currentTime, event2);\n    this.jg.p(\"seeked\", {\n      detail: this.j.currentTime,\n      trigger: event2\n    });\n    if (Math.trunc(this.j.currentTime) === Math.trunc(this.j.duration) && getNumberOfDecimalPlaces(this.j.duration) > getNumberOfDecimalPlaces(this.j.currentTime)) {\n      this.Mh(this.j.duration, event2);\n      if (!this.j.ended) {\n        this.ph.player.dispatchEvent(\n          new DOMEvent(\"media-play-request\", {\n            trigger: event2\n          })\n        );\n      }\n    }\n  }\n  ki(event2) {\n    this.jg.p(\"seeking\", {\n      detail: this.j.currentTime,\n      trigger: event2\n    });\n  }\n  ci(event2) {\n    this.jg.p(\"progress\", {\n      detail: {\n        buffered: this.j.buffered,\n        seekable: this.j.seekable\n      },\n      trigger: event2\n    });\n  }\n  oi() {\n    const hasCustomControls = isNil(this.j.controls);\n    if (hasCustomControls)\n      this.j.controls = false;\n    this.ph.player.dispatchEvent(new DOMEvent(\"media-loop-request\"));\n  }\n  ei(event2) {\n    this.jg.p(\"suspend\", { trigger: event2 });\n  }\n  ii(event2) {\n    this.jg.p(\"rate-change\", {\n      detail: this.j.playbackRate,\n      trigger: event2\n    });\n  }\n  Wb(event2) {\n    const error = this.j.error;\n    if (!error)\n      return;\n    this.jg.p(\"error\", {\n      detail: {\n        message: error.message,\n        code: error.code,\n        mediaError: error\n      },\n      trigger: event2\n    });\n  }\n}\n\nexport { HTMLMediaEvents as H };\n","import { listenEvent } from 'maverick.js/std';\nimport { N as LIST_ADD, W as LIST_REMOVE, L as LIST_SELECT } from '../../media-core.js';\n\nclass NativeAudioTracks {\n  constructor(_provider, _context) {\n    this.q = _provider;\n    this.ph = _context;\n    this.ri.onaddtrack = this.ti.bind(this);\n    this.ri.onremovetrack = this.ui.bind(this);\n    this.ri.onchange = this.vi.bind(this);\n    listenEvent(this.ph.audioTracks, \"change\", this.wi.bind(this));\n  }\n  get ri() {\n    return this.q.media.audioTracks;\n  }\n  ti(event) {\n    const _track = event.track;\n    if (_track.label === \"\")\n      return;\n    const audioTrack = {\n      id: _track.id + \"\",\n      label: _track.label,\n      language: _track.language,\n      kind: _track.kind,\n      selected: false\n    };\n    this.ph.audioTracks[LIST_ADD](audioTrack, event);\n    if (_track.enabled)\n      audioTrack.selected = true;\n  }\n  ui(event) {\n    const track = this.ph.audioTracks.getById(event.track.id);\n    if (track)\n      this.ph.audioTracks[LIST_REMOVE](track, event);\n  }\n  vi(event) {\n    let enabledTrack = this.si();\n    if (!enabledTrack)\n      return;\n    const track = this.ph.audioTracks.getById(enabledTrack.id);\n    if (track)\n      this.ph.audioTracks[LIST_SELECT](track, true, event);\n  }\n  si() {\n    return Array.from(this.ri).find((track) => track.enabled);\n  }\n  wi(event) {\n    const { current } = event.detail;\n    if (!current)\n      return;\n    const track = this.ri.getTrackById(current.id);\n    if (track) {\n      const prev = this.si();\n      if (prev)\n        prev.enabled = false;\n      track.enabled = true;\n    }\n  }\n}\n\nexport { NativeAudioTracks as N };\n","import { setAttribute, isString } from 'maverick.js/std';\nimport { b as isMediaStream } from '../audio/loader.js';\nimport { H as HTMLMediaEvents } from './html–media-events.js';\nimport { N as NativeAudioTracks } from './native-audio-tracks.js';\n\nclass HTMLMediaProvider {\n  constructor(_media) {\n    this.j = _media;\n  }\n  setup(context) {\n    new HTMLMediaEvents(this, context);\n    if (\"audioTracks\" in this.media)\n      new NativeAudioTracks(this, context);\n  }\n  get type() {\n    return \"\";\n  }\n  get media() {\n    return this.j;\n  }\n  get paused() {\n    return this.j.paused;\n  }\n  get muted() {\n    return this.j.muted;\n  }\n  set muted(muted) {\n    this.j.muted = muted;\n  }\n  get volume() {\n    return this.j.volume;\n  }\n  set volume(volume) {\n    this.j.volume = volume;\n  }\n  get currentTime() {\n    return this.j.currentTime;\n  }\n  set currentTime(time) {\n    this.j.currentTime = time;\n  }\n  get playsinline() {\n    return this.j.hasAttribute(\"playsinline\");\n  }\n  set playsinline(playsinline) {\n    setAttribute(this.j, \"playsinline\", playsinline);\n  }\n  get playbackRate() {\n    return this.j.playbackRate;\n  }\n  set playbackRate(rate) {\n    this.j.playbackRate = rate;\n  }\n  async play() {\n    return this.j.play();\n  }\n  async pause() {\n    return this.j.pause();\n  }\n  async loadSource({ src }, preload) {\n    this.j.preload = preload;\n    if (isMediaStream(src)) {\n      this.j.srcObject = src;\n    } else {\n      this.j.srcObject = null;\n      this.j.src = isString(src) ? src : window.URL.createObjectURL(src);\n    }\n    this.j.load();\n  }\n}\n\nexport { HTMLMediaProvider as H };\n"],"names":["RAFLoop","_callback","__publicField","isUndefined","isNumber","toDOMEventType","type","camelToKebabCase","HLSController","_video","ctor","context","isLive","peek","isLiveLowLatency","__spreadValues","dispatcher","event","callback","DOMEvent","ENABLE_AUTO_QUALITY","listenEvent","effect","raf","_b","_a","eventType","detail","data","currentTrack","i","nonNativeTrack","init","track","TextTrack","TEXT_TRACK_READY_STATE","TEXT_TRACK_ON_MODE_CHANGE","cue","LIST_SELECT","quality","live","duration","media","SET_AUTO_QUALITY","LIST_ADD","level","_c","qualities","IS_CHROME","audioTracks","HTMLMediaEvents","_provider","_context","useDisposalBin","onDispose","newTime","handler","event2","time","trigger","IS_SAFARI","isHLSSrc","getNumberOfDecimalPlaces","isNil","error","NativeAudioTracks","_track","audioTrack","LIST_REMOVE","enabledTrack","current","prev","HTMLMediaProvider","_media","muted","volume","playsinline","setAttribute","rate","__async","_0","_1","src","preload","isMediaStream","isString"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}
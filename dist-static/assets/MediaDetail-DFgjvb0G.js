var js=Object.defineProperty,bs=Object.defineProperties;var vs=Object.getOwnPropertyDescriptors;var qe=Object.getOwnPropertySymbols;var ys=Object.prototype.hasOwnProperty,Ns=Object.prototype.propertyIsEnumerable;var Ae=(h,a,t)=>a in h?js(h,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[a]=t,ee=(h,a)=>{for(var t in a||(a={}))ys.call(a,t)&&Ae(h,t,a[t]);if(qe)for(var t of qe(a))Ns.call(a,t)&&Ae(h,t,a[t]);return h},se=(h,a)=>bs(h,vs(a));var I=(h,a,t)=>new Promise((q,r)=>{var f=m=>{try{E(t.next(m))}catch(M){r(M)}},R=m=>{try{E(t.throw(m))}catch(M){r(M)}},E=m=>m.done?q(m.value):Promise.resolve(m.value).then(f,R);E((t=t.apply(h,a)).next())});import{j as e}from"./ui-DslYdUPK.js";import{r as i,h as ws,i as Ss,u as _s,d as ks,L as ae}from"./router-42GXI50n.js";import{c as We,u as Ts,a as Cs,b as Es,v as Ms,w as Is,s as j,S as V,B as p,m as De,F as Pe,M as qs,z as As,x as Ds,V as te,W as re,Y as ie,a0 as L,N as Ps,ag as Ls,C as Le,p as Re,t as Rs,a2 as zs,af as $s,d as ze,ah as Us}from"./index-Cw6WSGfP.js";import{T as Vs,a as Fs,b as F,c as B}from"./tabs-SYysrnpz.js";import{A as $e,a as Ue,b as Ve}from"./alert-C5VW6aHR.js";import{M as Bs}from"./MediaGrid-D_gViZ45.js";import{S as Js,R as Os}from"./RequestModal-Dh-rgp6A.js";import{A as Fe}from"./arrow-left-Db81hexG.js";import{T as Be}from"./tv-MG6c8U_0.js";import{C as ne}from"./chevrons-up-down-HbC2k5Zi.js";import{T as Je}from"./triangle-alert-bjg6MAJf.js";import{P as k}from"./play-Dn7nqWwP.js";import{C as Ws}from"./chevron-left-BG9g9Eau.js";import{L as Ys}from"./loader-circle-BQi2R5hk.js";import{f as Gs}from"./format-ulCIpsJ0.js";import"./vendor-aQ18W7Az.js";import"./streaming-fF1zHaJi.js";import"./utils-D-N2hrcs.js";import"./hourglass-d_tFP0Ab.js";import"./plus-BCI7Qmoy.js";import"./dialog-DtG0Tqk0.js";import"./input-B7M3MPRI.js";import"./textarea-BGhclJcN.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=We("Captions",[["rect",{width:"18",height:"14",x:"3",y:"5",rx:"2",ry:"2",key:"12ruh7"}],["path",{d:"M7 15h4M15 15h2M7 11h2M13 11h4",key:"1ueiar"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=We("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Ks=({videoId:h,title:a,className:t})=>{const[q,r]=i.useState(!1),f=`https://i.ytimg.com/vi/${h}/hqdefault.jpg`;return e.jsx("div",{className:`relative w-full ${t!=null?t:""}`,children:q?e.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden",children:e.jsx("iframe",{width:"100%",height:"100%",src:`https://www.youtube-nocookie.com/embed/${h}?rel=0&modestbranding=1&playsinline=1&autoplay=1`,title:a!=null?a:"YouTube video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer"})}):e.jsxs("button",{type:"button",onClick:()=>r(!0),"aria-label":a?`Play ${a}`:"Play video",className:"relative block w-full aspect-video bg-black overflow-hidden rounded-lg",children:[e.jsx("img",{src:f,alt:a!=null?a:"YouTube video",className:"w-full h-full object-cover",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:e.jsx("svg",{width:"72",height:"72",viewBox:"0 0 24 24",className:"text-white",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,children:e.jsx("path",{d:"M8 5v14l11-7z",fill:"currentColor"})})})]})})},Oe=h=>h?h.split(/[\(\-]/)[0].trim():"Unknown",Na=()=>{var Ce,Ee,Me,Ie;const{mediaType:h,tmdbId:a}=ws(),t=h,[q]=Ss(),{t:r,i18n:f}=Ts(),R=_s(),E=ks(),{session:m}=Cs(),{error:M}=Es(),[o,Ye]=i.useState(null),[Ge,J]=i.useState(!0),[le,He]=i.useState(null),[oe,Ze]=i.useState(null),[Ke,ce]=i.useState(!1),[A,de]=i.useState(null),[Qe,Xe]=i.useState([]),[es,ss]=i.useState([]),[me,as]=i.useState({cast:[],crew:[]}),[D,ue]=i.useState(1),[y,ts]=i.useState(null),[rs,he]=i.useState(!1),[is,ns]=i.useState(null),[b,ls]=i.useState(null),[x,pe]=i.useState(null),[os,xe]=i.useState(!1),[O,cs]=i.useState([]),[W,ds]=i.useState([]),[ms,fe]=i.useState(!1),[Y,ge]=i.useState(null),[G,je]=i.useState("auto"),[H,be]=i.useState("auto"),ve=q.get("fromSearch"),us=f.language==="fr"?Ms:Is,hs=s=>I(null,null,function*(){if(!(!t||!a)){ce(!0);try{const{data:n,error:c}=yield j.functions.invoke("get-tv-season-details",{body:{seriesId:a,seasonNumber:s,language:f.language}});if(c)throw c;let l=n.episodes;if(y){const{data:u,error:d}=yield j.from("jellyfin_episodes").select("episode_number").eq("series_jellyfin_id",y).eq("season_number",s);if(d)console.error("Error fetching local episodes",d);else{const v=new Set(u.map(g=>g.episode_number));l=n.episodes.map(g=>se(ee({},g),{isAvailable:v.has(g.episode_number)}))}}Ze({episodes:l})}catch(n){ze(n.message)}finally{ce(!1)}}}),ps=()=>I(null,null,function*(){if(!(m!=null&&m.user)||!a||!t)return;const{data:s}=yield j.from("media_requests").select("status").eq("tmdb_id",a).eq("media_type",t).maybeSingle();s&&He(s.status)}),z=i.useCallback(()=>I(null,null,function*(){var s,n;if(m!=null&&m.user){const{data:c,error:l}=yield j.rpc("get_continue_watching",{p_user_id:m.user.id});if(!l&&c){const u=c.find(d=>d.id===Number(a));pe(u?{seasonNumber:u.season_number,episodeNumber:u.episode_number,playbackPositionTicks:u.playback_position_ticks,runtimeTicks:(s=u.runtime_ticks)!=null?s:null,progress:(n=u.progress)!=null?n:null}:null)}else l&&console.error("Error fetching continue watching:",l)}}),[m,a]),$=i.useCallback(s=>I(null,null,function*(){try{const{data:n,error:c}=yield j.functions.invoke("get-jellyfin-next-up",{body:{seriesJellyfinId:s}});c?console.error("Error fetching next up:",c):ls(n)}catch(n){console.error("Exception fetching next up:",n)}}),[]);i.useEffect(()=>{I(null,null,function*(){var n,c;if(!t||!a){J(!1);return}J(!0),xe(!0),fe(!0),ge(null);try{const l=t==="anime"?"tv":t,u=[j.functions.invoke("get-media-details",{body:{mediaType:l,mediaId:a,language:f.language}}),j.functions.invoke("get-media-videos",{body:{mediaType:l,mediaId:a,language:f.language}}),j.functions.invoke("get-similar-media",{body:{mediaType:l,mediaId:a,language:f.language}}),j.functions.invoke("get-media-credits",{body:{mediaType:l,mediaId:a,language:f.language}}),j.from("catalog_items").select("jellyfin_id").eq("tmdb_id",Number(a)).eq("media_type",l).maybeSingle()],[d,v,g,C,N]=yield Promise.all(u);if(d.error)throw d.error;const w=d.data;if(Ye(w),v.error?console.error("Error fetching videos:",v.error):Xe(v.data.results),g.error?console.error("Error fetching similar media:",g.error):ss(g.data),C.error?console.error("Error fetching credits:",C.error):as(C.data),N.error)console.error("Error fetching from catalog:",N.error);else if((n=N.data)!=null&&n.jellyfin_id){const S=N.data.jellyfin_id;if(ts(S),l==="movie")try{const{data:_,error:P}=yield j.functions.invoke("get-jellyfin-media-streams",{body:{jellyfinId:S}});if(P)throw P;cs(_.audioTracks||[]),ds(_.subtitleTracks||[])}catch(_){let P="Impossible de se connecter à Jellyfin. Vérifiez que l'URL est correcte et que le serveur est accessible publiquement.";if(_ instanceof $s)try{const X=yield _.context.json();X.error&&(P=X.error)}catch(X){}ge(P),console.error("Error fetching media streams:",_)}else l==="tv"&&(yield $(S))}if(yield z(),((c=w.seasons)==null?void 0:c.length)>0){const S=w.seasons.find(_=>_.season_number>0)||w.seasons[0];de(S.season_number)}}catch(l){ze(l.message)}finally{J(!1),xe(!1),fe(!1)}})},[t,a,f.language,m,z,$]),i.useEffect(()=>{(t==="tv"||t==="anime")&&A!==null&&hs(A)},[A,t,a,f.language,y]),i.useEffect(()=>{const s=()=>{z(),y&&$(y)},n=c=>{var l;Number(a)===((l=c==null?void 0:c.detail)==null?void 0:l.tmdbId)&&s()};return window.addEventListener("playback-ended",s),window.addEventListener("playback-progress-saved",n),()=>{window.removeEventListener("playback-ended",s),window.removeEventListener("playback-progress-saved",n)}},[a,y,z,$]);const xs=()=>{if(!o||!t)return;const s={id:o.id,title:o.title,name:o.name,poster_path:o.poster_path,media_type:t};ns(s),he(!0)},T=(s,n,c)=>{if(!t||!a)return;let l=`/media/${t}/${a}/play`;const u=new URLSearchParams;s!==void 0&&n!==void 0&&(u.append("season",s.toString()),u.append("episode",n.toString())),c&&u.append("t",c.toString()),G!=="auto"&&u.append("audioStreamIndex",G),H!=="auto"&&u.append("subtitleStreamIndex",H);const d=u.toString();d&&(l+=`?${d}`),R(l,{state:{from:E.pathname}})},fs=()=>{var s,n,c,l,u;if(Y)return e.jsxs($e,{variant:"destructive",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx(Ue,{children:"Erreur de connexion Jellyfin"}),e.jsx(Ve,{children:Y})]});if(!m)return e.jsxs(p,{size:"lg",onClick:()=>R("/login",{state:{from:E}}),children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," ",r("login_to_watch")]});if(y){if(t==="movie"){if(x&&((s=x.playbackPositionTicks)!=null?s:0)>0){const d=Math.floor((x.playbackPositionTicks||0)/1e7),v=Math.floor(d/60),g=Math.floor(d%60),C=`${v}m ${g}s`,N=((n=x.runtimeTicks)!=null?n:0)>0,w=N?Math.min(100,Math.round((x.playbackPositionTicks||0)/(x.runtimeTicks||1)*100)):(c=x.progress)!=null?c:0,S=N?w>=99:((l=x.progress)!=null?l:0)>=99;return e.jsxs(p,{size:"lg",onClick:()=>T(void 0,void 0,S?0:d),children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," ",S?r("play"):r("resume_at",{time:C})]})}return e.jsxs(p,{size:"lg",onClick:()=>T(),children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," ",r("play")]})}if(t==="tv"||t==="anime"){if(os)return e.jsxs(p,{size:"lg",disabled:!0,children:[e.jsx(Ys,{className:"mr-2 h-4 w-4 animate-spin"})," ",r("finding_next_episode")]});if(x&&x.seasonNumber&&x.episodeNumber){const d=(x.playbackPositionTicks||0)/1e7,v=Math.floor(d/60),g=Math.floor(d%60),C=`${v}m ${g}s`;if(((u=x.progress)!=null?u:0)>=99&&b){const w=r("play_s_e",{season:String(b.seasonNumber).padStart(2,"0"),episode:String(b.episodeNumber).padStart(2,"0")});return e.jsxs(p,{size:"lg",onClick:()=>T(b.seasonNumber,b.episodeNumber),children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," ",w]})}return e.jsxs(p,{size:"lg",onClick:()=>T(x.seasonNumber,x.episodeNumber,d),children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," ",r("resume_at",{time:C})]})}else if(b){const d=r("play_s_e",{season:String(b.seasonNumber).padStart(2,"0"),episode:String(b.episodeNumber).padStart(2,"0")});return e.jsxs(p,{size:"lg",onClick:()=>T(b.seasonNumber,b.episodeNumber),children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," ",d]})}return e.jsxs(p,{size:"lg",onClick:()=>T(1,1),children:[e.jsx(k,{className:"mr-2 h-4 w-4"})," ",r("play_s01e01")]})}}return le==="pending"||le==="approved"?e.jsxs(p,{size:"lg",disabled:!0,children:[e.jsx(Us,{className:"mr-2 h-4 w-4"})," ",r("requested")]}):e.jsxs(p,{size:"lg",onClick:xs,children:[e.jsx(Pe,{className:"mr-2 h-4 w-4"})," ",r("request")]})};if(Ge)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(V,{className:"h-[80vh] w-full"})});if(!o)return e.jsx("div",{className:"container mx-auto px-4 py-8 text-center",children:r("no_results_found")});const ye=o.title||o.name,Ne=o.release_date||o.first_air_date,we=t==="movie"?o.runtime:(Ce=o.episode_run_time)==null?void 0:Ce[0],U=t==="anime"?"tv":t,Z=Qe.filter(s=>s.site==="YouTube"),Se=es.map(s=>se(ee({},s),{media_type:t})),K=4,Q=Math.ceil(Z.length/K),gs=Z.slice((D-1)*K,D*K),_e=ve?`/catalog?q=${encodeURIComponent(ve)}`:"/catalog",ke=O.find(s=>s.Index.toString()===G),Te=W.find(s=>s.Index.toString()===H);return M?e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx(p,{asChild:!0,variant:"outline",className:"mb-6",children:e.jsxs(ae,{to:_e,children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"})," ",r("back_to_catalog")]})}),e.jsx("div",{className:"text-red-500 p-4 rounded-lg bg-red-500/10 border border-red-500/20",children:e.jsxs("p",{children:["Erreur de configuration Jellyfin : ",M]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative -mt-16",children:[e.jsxs("div",{className:"absolute inset-0 h-[60vh] overflow-hidden",children:[o.backdrop_path?e.jsx("img",{src:`https://image.tmdb.org/t/p/original${o.backdrop_path}`,alt:"",className:"w-full h-full object-cover object-center"}):e.jsx("div",{className:"w-full h-full bg-muted"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/80 to-transparent"})]}),e.jsxs("div",{className:"relative container mx-auto px-4 pt-[40vh] pb-16",children:[e.jsxs("div",{className:"md:flex gap-8",children:[e.jsx(De.div,{className:"w-full md:w-1/3 lg:w-1/4 -mt-24 flex-shrink-0",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeInOut"},children:o.poster_path?e.jsx("img",{src:`https://image.tmdb.org/t/p/w500${o.poster_path}`,alt:ye,className:"w-full rounded-lg shadow-2xl"}):e.jsx("div",{className:"w-full aspect-[2/3] bg-muted rounded-lg shadow-2xl flex items-center justify-center text-muted-foreground",children:e.jsx(Pe,{className:"h-24 w-24"})})}),e.jsxs(De.div,{className:"mt-8 md:mt-0 flex-grow",initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2,ease:"easeInOut"},children:[e.jsx(p,{asChild:!0,variant:"outline",className:"mb-6",children:e.jsxs(ae,{to:_e,children:[e.jsx(Fe,{className:"mr-2 h-4 w-4"})," ",r("back_to_catalog")]})}),e.jsx("h1",{className:"text-5xl font-bold",children:ye}),e.jsxs("div",{className:"flex items-center flex-wrap gap-x-4 gap-y-2 mt-2 text-muted-foreground",children:[Ne&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(qs,{className:"h-4 w-4"})," ",new Date(Ne).getFullYear()]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Js,{className:"h-4 w-4 text-yellow-400"})," ",o.vote_average.toFixed(1)," / 10"]}),we&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(As,{className:"h-4 w-4"})," ",we," min"]}),U==="tv"&&o.number_of_seasons&&e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(Be,{className:"h-4 w-4"})," ",o.number_of_seasons," ",r("seasons",{count:o.number_of_seasons})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:o.genres.map(s=>e.jsx(Ds,{variant:"secondary",children:s.name},s.id))}),e.jsx("p",{className:"mt-6 text-lg text-muted-foreground",children:o.overview}),e.jsxs("div",{className:"mt-8 flex flex-wrap items-center gap-4",children:[fs(),m&&y&&!ms&&!Y&&e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[O.length>1&&e.jsxs(te,{modal:!1,children:[e.jsx(re,{asChild:!0,children:e.jsxs(p,{variant:"outline",className:"w-[180px] justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 truncate",children:[e.jsx(Zs,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:ke?Oe(ke.DisplayTitle):"Audio (Auto)"})]}),e.jsx(ne,{className:"h-4 w-4 opacity-50 flex-shrink-0"})]})}),e.jsxs(ie,{className:"w-[180px]",children:[e.jsx(L,{onSelect:()=>je("auto"),children:"Audio (Auto)"}),O.map(s=>e.jsx(L,{onSelect:()=>je(s.Index.toString()),children:s.DisplayTitle},s.Index))]})]}),W.length>0&&e.jsxs(te,{modal:!1,children:[e.jsx(re,{asChild:!0,children:e.jsxs(p,{variant:"outline",className:"w-[180px] justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 truncate",children:[e.jsx(Hs,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:Te?Oe(Te.DisplayTitle):"Sous-titres (Aucun)"})]}),e.jsx(ne,{className:"h-4 w-4 opacity-50 flex-shrink-0"})]})}),e.jsxs(ie,{className:"w-[180px]",children:[e.jsx(L,{onSelect:()=>be("auto"),children:"Sous-titres (Aucun)"}),W.map(s=>e.jsx(L,{onSelect:()=>be(s.Index.toString()),children:s.DisplayTitle},s.Index))]})]})]})]})]})]}),e.jsx("div",{className:"mt-12",children:e.jsxs(Vs,{defaultValue:U==="tv"?"episodes":"videos",className:"w-full",children:[e.jsxs(Ps,{className:"w-full whitespace-nowrap",children:[e.jsxs(Fs,{className:"inline-flex w-max",children:[U==="tv"&&e.jsx(F,{value:"episodes",children:r("episodes")}),e.jsx(F,{value:"videos",children:r("videos_and_trailers")}),e.jsx(F,{value:"similar",children:r("similar_content")}),e.jsx(F,{value:"cast",children:r("cast_and_production")})]}),e.jsx(Ls,{orientation:"horizontal",className:"invisible"})]}),U==="tv"&&e.jsxs(B,{value:"episodes",className:"mt-6",children:[e.jsxs($e,{variant:"destructive",className:"my-6 bg-red-900/30 border-red-500/30 text-red-300",children:[e.jsx(Je,{className:"h-4 w-4"}),e.jsx(Ue,{children:r("tmdb_disclaimer_title")}),e.jsx(Ve,{children:r("tmdb_disclaimer_content")})]}),e.jsx("div",{className:"flex items-center gap-4 mb-6",children:e.jsxs(te,{modal:!1,children:[e.jsx(re,{asChild:!0,children:e.jsxs(p,{variant:"outline",className:"w-[250px] justify-between",children:[((Me=(Ee=o.seasons)==null?void 0:Ee.find(s=>s.season_number===A))==null?void 0:Me.name)||"Sélectionner une saison",e.jsx(ne,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),e.jsx(ie,{className:"w-[250px]",children:(Ie=o.seasons)==null?void 0:Ie.map(s=>e.jsx(L,{onSelect:()=>de(s.season_number),children:s.name},s.id))})]})}),Ke?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:[...Array(10)].map((s,n)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(V,{className:"aspect-video w-full"}),e.jsx(V,{className:"h-4 w-3/4"}),e.jsx(V,{className:"h-4 w-1/2"})]},n))}):oe&&e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:oe.episodes.map(s=>e.jsxs(Le,{className:"overflow-hidden transition-transform hover:scale-105 group",children:[e.jsxs("div",{className:"relative aspect-video bg-muted",children:[s.still_path?e.jsx("img",{src:`https://image.tmdb.org/t/p/w500${s.still_path}`,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:e.jsx(Be,{className:"h-8 w-8"})}),s.isAvailable&&e.jsx("button",{onClick:()=>T(A,s.episode_number),className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(k,{className:"h-10 w-10 text-white"})})]}),e.jsxs(Re,{className:"p-3",children:[e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Épisode ",s.episode_number]}),e.jsx("h4",{className:"font-semibold text-sm truncate",children:s.name}),s.air_date&&e.jsx("p",{className:"text-xs text-muted-foreground",children:Gs(new Date(s.air_date),"d MMM yyyy",{locale:us})})]})]},s.id))})]}),e.jsx(B,{value:"videos",className:"mt-6",children:Z.length>0?e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:gs.map(s=>e.jsxs("div",{children:[e.jsx("div",{className:"aspect-video mb-2",children:e.jsx(Ks,{videoId:s.key,title:s.name,className:"rounded-lg"})}),e.jsx("h4",{className:"font-semibold",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.type})]},s.id))}),Q>1&&e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-6",children:[e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>ue(s=>s-1),disabled:D===1,children:[e.jsx(Ws,{className:"h-4 w-4 mr-1"}),r("previous")]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[r("page")," ",D," / ",Q]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>ue(s=>s+1),disabled:D===Q,children:[r("next"),e.jsx(Rs,{className:"h-4 w-4 ml-1"})]})]})]}):e.jsx("p",{children:r("no_trailer_available")})}),e.jsx(B,{value:"similar",className:"mt-6",children:Se.length>0?e.jsx(Bs,{items:Se,showRequestButton:!!m}):e.jsx("p",{children:r("no_similar_content")})}),e.jsxs(B,{value:"cast",className:"mt-6",children:[e.jsx("h3",{className:"text-2xl font-bold mb-4",children:r("cast")}),me.cast.length>0?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:me.cast.slice(0,18).map(s=>e.jsx(ae,{to:`/person/${s.id}`,className:"text-left",children:e.jsxs(Le,{className:"text-center overflow-hidden bg-muted/20 border-border h-full transition-transform hover:scale-105",children:[s.profile_path?e.jsx("img",{src:`https://image.tmdb.org/t/p/w185${s.profile_path}`,alt:s.name,className:"w-full h-auto object-cover aspect-[2/3]"}):e.jsx("div",{className:"w-full aspect-[2/3] flex items-center justify-center bg-muted text-muted-foreground",children:e.jsx(zs,{className:"h-12 w-12"})}),e.jsxs(Re,{className:"p-2",children:[e.jsx("p",{className:"font-bold text-sm truncate",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.character})]})]})},s.id))}):e.jsx("p",{children:r("no_cast_info")})]})]})})]})]}),e.jsx(Os,{open:rs,onOpenChange:he,item:is,onSuccess:ps})]})};export{Na as default};
//# sourceMappingURL=MediaDetail-DFgjvb0G.js.map

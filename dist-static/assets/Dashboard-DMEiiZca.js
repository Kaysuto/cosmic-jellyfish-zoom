var Ee=Object.defineProperty,He=Object.defineProperties;var Le=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable;var ae=(t,a,r)=>a in t?Ee(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r,x=(t,a)=>{for(var r in a||(a={}))se.call(a,r)&&ae(t,r,a[r]);if(T)for(var r of T(a))ie.call(a,r)&&ae(t,r,a[r]);return t},h=(t,a)=>He(t,Le(a));var b=(t,a)=>{var r={};for(var o in t)se.call(t,o)&&a.indexOf(o)<0&&(r[o]=t[o]);if(t!=null&&T)for(var o of T(t))a.indexOf(o)<0&&ie.call(t,o)&&(r[o]=t[o]);return r};import{j as e,J as Oe,f as le,c as Me,e as Ve,P as ce,u as Ge,t as Ue,g as $e}from"./ui-DslYdUPK.js";import{u as de}from"./useIncidents-Bx07qVBD.js";import{u as me}from"./useServices-CHToQZU2.js";import{u as ze}from"./useUsers-BIS_RP8_.js";import{c as Be,m,C as A,e as u,n as k,o as I,p as _,u as S,I as W,x as w,S as N,z as F,B as Z,L as Fe,M as Ke,U as xe,v as qe,w as We,N as Ze,D as Je,E as Qe,G as Xe,H as Ye,y as er,O as rr}from"./index-Cw6WSGfP.js";import{u as ue,L as J,c as v,r as Q}from"./router-42GXI50n.js";import{C as K}from"./circle-check-big-BcW08cDX.js";import{A as ge}from"./index-BvRroZ3g.js";import{C as tr,S as or}from"./shield-alert-BNs9VAL5.js";import{T as C}from"./triangle-alert-bjg6MAJf.js";import{A as E}from"./arrow-right-BBRhRddY.js";import{Z as ar}from"./zap-EjhYcE0-.js";import{S as sr}from"./settings-Bv5hbbbn.js";import{P as ir}from"./plus-BCI7Qmoy.js";import{W as nr}from"./WebhookInstructions-CdQe4s68.js";import{u as lr}from"./useAuditLogs-Db9IZbF1.js";import{c as pe,R as cr,T as dr,C as mr}from"./index-B-QAuG6e.js";import"./vendor-aQ18W7Az.js";import"./streaming-fF1zHaJi.js";import"./utils-D-N2hrcs.js";import"./input-B7M3MPRI.js";import"./label-BjJg9FZ3.js";import"./alert-C5VW6aHR.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=Be("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]),B=({title:t,value:a,icon:r,trend:o,variant:n="default",className:s})=>{const l={default:{card:"bg-gradient-to-br from-background to-muted/50 border-border/50",icon:"text-primary",value:"text-foreground",title:"text-muted-foreground"},success:{card:"bg-gradient-to-br from-green-500/10 to-emerald-500/5 border-green-500/20",icon:"text-green-500",value:"text-green-600 dark:text-green-400",title:"text-green-700/70 dark:text-green-300/70"},warning:{card:"bg-gradient-to-br from-yellow-500/10 to-orange-500/5 border-yellow-500/20",icon:"text-yellow-500",value:"text-yellow-600 dark:text-yellow-400",title:"text-yellow-700/70 dark:text-yellow-300/70"},danger:{card:"bg-gradient-to-br from-red-500/10 to-pink-500/5 border-red-500/20",icon:"text-red-500",value:"text-red-600 dark:text-red-400",title:"text-red-700/70 dark:text-red-300/70"},info:{card:"bg-gradient-to-br from-blue-500/10 to-cyan-500/5 border-blue-500/20",icon:"text-blue-500",value:"text-blue-600 dark:text-blue-400",title:"text-blue-700/70 dark:text-blue-300/70"}}[n];return e.jsx(m.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.4,ease:[.25,.46,.45,.94],delay:Math.random()*.2},whileHover:{y:-4,scale:1.02,transition:{duration:.2}},children:e.jsxs(A,{className:u("relative overflow-hidden border-0 shadow-lg backdrop-blur-sm transition-all duration-300",l.card,s),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-white/5 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300"}),e.jsxs(k,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[e.jsx(I,{className:u("text-sm font-medium transition-colors",l.title),children:t}),e.jsxs(m.div,{initial:{rotate:-10,scale:.8},animate:{rotate:0,scale:1},transition:{duration:.3,delay:.1},className:"relative",children:[e.jsx(r,{className:u("h-5 w-5 transition-all duration-300",l.icon)}),e.jsx("div",{className:"absolute inset-0 bg-current rounded-full blur-sm opacity-20"})]})]}),e.jsxs(_,{className:"space-y-2",children:[e.jsx(m.div,{className:u("text-3xl font-bold tracking-tight",l.value),initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.4,delay:.2},children:a}),o&&e.jsxs(m.div,{className:"flex items-center gap-1 text-xs",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.3},children:[e.jsxs("span",{className:u("flex items-center gap-1",o.isPositive?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"),children:[o.isPositive?"↗":"↘",Math.abs(o.value),"%"]}),e.jsx("span",{className:"text-muted-foreground",children:"vs mois dernier"})]})]})]})})},ur=()=>{const{t}=S(),{incidents:a,loading:r}=de(),o=ue(),n={investigating:{color:"bg-yellow-500",textColor:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/20",icon:F,label:"En cours"},identified:{color:"bg-orange-500",textColor:"text-orange-600 dark:text-orange-400",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/20",icon:C,label:"Identifié"},monitoring:{color:"bg-blue-500",textColor:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20",icon:F,label:"Surveillance"},resolved:{color:"bg-green-500",textColor:"text-green-600 dark:text-green-400",bgColor:"bg-green-500/10",borderColor:"border-green-500/20",icon:K,label:"Résolu"},postmortem:{color:"bg-gray-500",textColor:"text-gray-600 dark:text-gray-400",bgColor:"bg-gray-500/10",borderColor:"border-gray-500/20",icon:tr,label:"Post-mortem"}},s=a.slice(0,5),c=a.filter(i=>i.status!=="resolved"&&i.status!=="postmortem").length,l=i=>{const d=new Date(i),p=Math.floor((new Date().getTime()-d.getTime())/(1e3*60*60));return p<1?"Il y a quelques minutes":p<24?`Il y a ${p}h`:p<48?"Hier":d.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})};return e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:e.jsxs(A,{className:"relative overflow-hidden border-0 shadow-lg bg-gradient-to-br from-background to-muted/30 backdrop-blur-sm",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 via-transparent to-orange-500/5"}),e.jsx(k,{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(I,{className:"text-xl font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Incidents Récents"}),e.jsx(W,{className:"text-muted-foreground mt-1",children:"Derniers incidents et leur statut"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(w,{variant:"secondary",className:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/20",children:[c," Actifs"]})})]})}),e.jsxs(_,{className:"relative space-y-4",children:[r?e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((i,d)=>e.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:d*.1},children:e.jsx(N,{className:"h-16 w-full rounded-lg"})},d))}):s.length===0?e.jsxs(m.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4},className:"text-center py-8",children:[e.jsx(K,{className:"h-12 w-12 text-green-500 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"text-muted-foreground",children:"Aucun incident récent"}),e.jsx("p",{className:"text-sm text-muted-foreground/70",children:"Tous les services fonctionnent correctement"})]}):e.jsx(ge,{children:e.jsx("div",{className:"space-y-3",children:s.map((i,d)=>{const g=n[i.status],p=g.icon;return e.jsxs(m.div,{initial:{opacity:0,x:-20,scale:.95},animate:{opacity:1,x:0,scale:1},transition:{duration:.4,delay:d*.1,ease:[.25,.46,.45,.94]},whileHover:{x:4,scale:1.02,transition:{duration:.2}},onClick:()=>o("/admin/incidents"),className:u("group relative p-4 rounded-xl border transition-all duration-300 cursor-pointer",g.bgColor,g.borderColor,"hover:shadow-md hover:shadow-current/10"),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),e.jsxs("div",{className:"relative space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[e.jsxs("div",{className:"relative mt-1",children:[e.jsx("div",{className:u("h-3 w-3 rounded-full",g.color)}),i.status!=="resolved"&&i.status!=="postmortem"&&e.jsx("div",{className:"absolute inset-0 h-3 w-3 rounded-full bg-current animate-ping opacity-20"})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-foreground line-clamp-1",children:i.title}),e.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:i.description})]})]}),e.jsx(w,{variant:"outline",className:u("border-current/30 shrink-0",g.textColor,g.bgColor),children:g.label})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-3 w-3"}),e.jsx("span",{children:l(i.created_at)})]}),e.jsx(E,{className:"h-3 w-3 group-hover:translate-x-1 transition-transform duration-200"})]})]})]},i.id)})})}),e.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},className:"pt-4 border-t border-border/50",children:e.jsx(Z,{asChild:!0,variant:"ghost",className:"w-full group hover:bg-red-500/10",children:e.jsxs(J,{to:"/admin/incidents",className:"flex items-center justify-center gap-2",children:[e.jsx(C,{className:"h-4 w-4 group-hover:scale-110 transition-transform duration-200"}),"Voir tous les incidents",e.jsx(E,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})]})})},gr=()=>{const{t}=S(),{services:a,loading:r}=me(),o=ue(),n={operational:{color:"bg-green-500",textColor:"text-green-600 dark:text-green-400",bgColor:"bg-green-500/10",borderColor:"border-green-500/20",icon:K,label:"Opérationnel"},degraded:{color:"bg-yellow-500",textColor:"text-yellow-600 dark:text-yellow-400",bgColor:"bg-yellow-500/10",borderColor:"border-yellow-500/20",icon:C,label:"Dégradé"},downtime:{color:"bg-red-500",textColor:"text-red-600 dark:text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/20",icon:C,label:"Indisponible"},maintenance:{color:"bg-blue-500",textColor:"text-blue-600 dark:text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20",icon:F,label:"Maintenance"}},s=a.filter(l=>l.status==="operational").length,c=a.length;return e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:e.jsxs(A,{className:"relative overflow-hidden border-0 shadow-lg bg-gradient-to-br from-background to-muted/30 backdrop-blur-sm",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-secondary/5"}),e.jsx(k,{className:"relative",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(I,{className:"text-xl font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Aperçu des Services"}),e.jsx(W,{className:"text-muted-foreground mt-1",children:"Statut actuel de tous les services"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(w,{variant:"secondary",className:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/20",children:[s,"/",c," Opérationnels"]})})]})}),e.jsxs(_,{className:"relative space-y-4",children:[r?e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((l,i)=>e.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:i*.1},children:e.jsx(N,{className:"h-12 w-full rounded-lg"})},i))}):e.jsx(ge,{children:e.jsx("div",{className:"space-y-3",children:a.map((l,i)=>{const d=n[l.status],g=d.icon;return e.jsxs(m.div,{initial:{opacity:0,x:-20,scale:.95},animate:{opacity:1,x:0,scale:1},transition:{duration:.4,delay:i*.1,ease:[.25,.46,.45,.94]},whileHover:{x:4,scale:1.02,transition:{duration:.2}},onClick:()=>o("/admin/services"),className:u("group relative p-4 rounded-xl border transition-all duration-300 cursor-pointer",d.bgColor,d.borderColor,"hover:shadow-md hover:shadow-current/10"),children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 rounded-xl"}),e.jsxs("div",{className:"relative flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:u("h-3 w-3 rounded-full",d.color)}),e.jsx("div",{className:"absolute inset-0 h-3 w-3 rounded-full bg-current animate-ping opacity-20"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(g,{className:u("h-4 w-4",d.textColor)}),e.jsx("span",{className:"font-medium text-foreground",children:t(l.name.toLowerCase().replace(/ /g,"_"))})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(w,{variant:"outline",className:u("border-current/30",d.textColor,d.bgColor),children:d.label}),e.jsx(E,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground transition-colors duration-300"})]})]})]},l.id)})})}),e.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.5},className:"pt-4 border-t border-border/50",children:e.jsx(Z,{asChild:!0,variant:"ghost",className:"w-full group hover:bg-primary/10",children:e.jsxs(J,{to:"/admin/services",className:"flex items-center justify-center gap-2",children:[e.jsx(Fe,{className:"h-4 w-4 group-hover:scale-110 transition-transform duration-200"}),"Gérer tous les services",e.jsx(E,{className:"h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})]})})},pr=()=>{const{t}=S(),a=[{title:"Gérer les Incidents",description:"Voir et gérer tous les incidents",icon:C,href:"/admin/incidents",color:"from-red-500/20 to-pink-500/10",iconColor:"text-red-500",hoverColor:"hover:bg-red-500/10"},{title:"Gérer la Maintenance",description:"Planifier et gérer les maintenances",icon:Ke,href:"/admin/maintenance",color:"from-blue-500/20 to-cyan-500/10",iconColor:"text-blue-500",hoverColor:"hover:bg-blue-500/10"},{title:"Gérer les Utilisateurs",description:"Voir et gérer tous les utilisateurs",icon:xe,href:"/admin/users",color:"from-green-500/20 to-emerald-500/10",iconColor:"text-green-500",hoverColor:"hover:bg-green-500/10"},{title:"Configuration",description:"Paramètres système",icon:sr,href:"/admin/settings",color:"from-purple-500/20 to-violet-500/10",iconColor:"text-purple-500",hoverColor:"hover:bg-purple-500/10"}];return e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:e.jsxs(A,{className:"relative overflow-hidden border-0 shadow-lg bg-gradient-to-br from-background to-muted/30 backdrop-blur-sm",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-secondary/5"}),e.jsx(k,{className:"relative",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-primary/10 to-secondary/10",children:e.jsx(ar,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx(I,{className:"text-xl font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent",children:"Actions Rapides"}),e.jsx(W,{className:"text-muted-foreground",children:"Accès rapide aux fonctions principales"})]})]})}),e.jsx(_,{className:"relative space-y-3",children:a.map((r,o)=>{const n=r.icon;return e.jsx(m.div,{initial:{opacity:0,x:-20,scale:.95},animate:{opacity:1,x:0,scale:1},transition:{duration:.4,delay:o*.1,ease:[.25,.46,.45,.94]},whileHover:{x:4,scale:1.02,transition:{duration:.2}},children:e.jsx(Z,{asChild:!0,variant:"ghost",className:u("w-full justify-start p-4 h-auto group relative overflow-hidden",r.hoverColor),children:e.jsxs(J,{to:r.href,children:[e.jsx("div",{className:u("absolute inset-0 bg-gradient-to-r opacity-0 group-hover:opacity-100 transition-opacity duration-300",r.color)}),e.jsxs("div",{className:"relative flex items-center gap-3",children:[e.jsx("div",{className:u("p-2 rounded-lg bg-gradient-to-br from-current/10 to-current/5 group-hover:scale-110 transition-transform duration-200",r.iconColor),children:e.jsx(n,{className:"h-4 w-4"})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("div",{className:"font-medium text-foreground group-hover:text-foreground transition-colors",children:r.title}),e.jsx("div",{className:"text-sm text-muted-foreground group-hover:text-muted-foreground/80 transition-colors",children:r.description})]}),e.jsx(ir,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground group-hover:rotate-90 transition-all duration-200"})]})]})})},r.href)})})]})})},ne={user_login:"bg-green-500/20 text-green-400 border-green-500/30",user_logout:"bg-gray-500/20 text-gray-400 border-gray-500/30",user_deleted:"bg-red-500/20 text-red-400 border-red-500/30",user_created_by_admin:"bg-blue-500/20 text-blue-400 border-blue-500/30",admin_mfa_disabled:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",default:"bg-muted text-muted-foreground border-border"},hr=({log:t,locale:a})=>{var c,l;const{t:r}=S(),o=((c=t.profiles)==null?void 0:c.email)||"System",n=((l=t.profiles)==null?void 0:l.first_name)||"System",s=r(`audit_logs.${t.action}`,h(x({},t.details),{defaultValue:t.action}));return e.jsxs("div",{className:"flex items-start gap-4 p-3 hover:bg-muted/50 rounded-lg transition-colors",children:[e.jsxs(Je,{className:"h-9 w-9",children:[e.jsx(Qe,{src:Xe(o)}),e.jsx(Ye,{children:n.charAt(0)})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-semibold",children:n})," ",s]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:er(new Date(t.created_at),{addSuffix:!0,locale:a})}),e.jsx(w,{variant:"outline",className:`mt-2 text-xs ${ne[t.action]||ne.default}`,children:t.action})]})]})},vr=()=>{const{t,i18n:a}=S(),{logs:r,loading:o}=lr(1,20),n=a.language==="fr"?qe:We;return e.jsx(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:e.jsxs(A,{className:"h-full",children:[e.jsx(k,{children:e.jsxs(I,{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"h-5 w-5"}),t("recent_activity")]})}),e.jsx(_,{children:o?e.jsx("div",{className:"space-y-4",children:[...Array(5)].map((s,c)=>e.jsx(N,{className:"h-16 w-full"},c))}):e.jsx(Ze,{className:"h-[400px] pr-4",children:e.jsx("div",{className:"space-y-2",children:r.map(s=>e.jsx(hr,{log:s,locale:n},s.id))})})})]})})};var f="Accordion",br=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[X,fr,jr]=Oe(f),[L,rt]=Me(f,[jr,pe]),Y=pe(),he=v.forwardRef((t,a)=>{const c=t,{type:r}=c,o=b(c,["type"]),n=o,s=o;return e.jsx(X.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?e.jsx(wr,h(x({},s),{ref:a})):e.jsx(Cr,h(x({},n),{ref:a}))})});he.displayName=f;var[ve,yr]=L(f),[be,Nr]=L(f,{collapsible:!1}),Cr=v.forwardRef((t,a)=>{const d=t,{value:r,defaultValue:o,onValueChange:n=()=>{},collapsible:s=!1}=d,c=b(d,["value","defaultValue","onValueChange","collapsible"]),[l,i]=le({prop:r,defaultProp:o!=null?o:"",onChange:n,caller:f});return e.jsx(ve,{scope:t.__scopeAccordion,value:v.useMemo(()=>l?[l]:[],[l]),onItemOpen:i,onItemClose:v.useCallback(()=>s&&i(""),[s,i]),children:e.jsx(be,{scope:t.__scopeAccordion,collapsible:s,children:e.jsx(fe,h(x({},c),{ref:a}))})})}),wr=v.forwardRef((t,a)=>{const g=t,{value:r,defaultValue:o,onValueChange:n=()=>{}}=g,s=b(g,["value","defaultValue","onValueChange"]),[c,l]=le({prop:r,defaultProp:o!=null?o:[],onChange:n,caller:f}),i=v.useCallback(p=>l((y=[])=>[...y,p]),[l]),d=v.useCallback(p=>l((y=[])=>y.filter(R=>R!==p)),[l]);return e.jsx(ve,{scope:t.__scopeAccordion,value:c,onItemOpen:i,onItemClose:d,children:e.jsx(be,{scope:t.__scopeAccordion,collapsible:!0,children:e.jsx(fe,h(x({},s),{ref:a}))})})}),[Ar,O]=L(f),fe=v.forwardRef((t,a)=>{const R=t,{__scopeAccordion:r,disabled:o,dir:n,orientation:s="vertical"}=R,c=b(R,["__scopeAccordion","disabled","dir","orientation"]),l=v.useRef(null),i=Ge(l,a),d=fr(r),p=Ue(n)==="ltr",y=$e(t.onKeyDown,P=>{var te;if(!br.includes(P.key))return;const De=P.target,M=d().filter(z=>{var oe;return!((oe=z.ref.current)!=null&&oe.disabled)}),D=M.findIndex(z=>z.ref.current===De),re=M.length;if(D===-1)return;P.preventDefault();let j=D;const V=0,G=re-1,U=()=>{j=D+1,j>G&&(j=V)},$=()=>{j=D-1,j<V&&(j=G)};switch(P.key){case"Home":j=V;break;case"End":j=G;break;case"ArrowRight":s==="horizontal"&&(p?U():$());break;case"ArrowDown":s==="vertical"&&U();break;case"ArrowLeft":s==="horizontal"&&(p?$():U());break;case"ArrowUp":s==="vertical"&&$();break}const Te=j%re;(te=M[Te].ref.current)==null||te.focus()});return e.jsx(Ar,{scope:r,disabled:o,direction:n,orientation:s,children:e.jsx(X.Slot,{scope:r,children:e.jsx(ce.div,h(x({},c),{"data-orientation":s,ref:i,onKeyDown:o?void 0:y}))})})}),H="AccordionItem",[kr,ee]=L(H),je=v.forwardRef((t,a)=>{const p=t,{__scopeAccordion:r,value:o}=p,n=b(p,["__scopeAccordion","value"]),s=O(H,r),c=yr(H,r),l=Y(r),i=Ve(),d=o&&c.value.includes(o)||!1,g=s.disabled||t.disabled;return e.jsx(kr,{scope:r,open:d,disabled:g,triggerId:i,children:e.jsx(cr,h(x(x({"data-orientation":s.orientation,"data-state":ke(d)},l),n),{ref:a,disabled:g,open:d,onOpenChange:y=>{y?c.onItemOpen(o):c.onItemClose(o)}}))})});je.displayName=H;var ye="AccordionHeader",Ne=v.forwardRef((t,a)=>{const c=t,{__scopeAccordion:r}=c,o=b(c,["__scopeAccordion"]),n=O(f,r),s=ee(ye,r);return e.jsx(ce.h3,h(x({"data-orientation":n.orientation,"data-state":ke(s.open),"data-disabled":s.disabled?"":void 0},o),{ref:a}))});Ne.displayName=ye;var q="AccordionTrigger",Ce=v.forwardRef((t,a)=>{const i=t,{__scopeAccordion:r}=i,o=b(i,["__scopeAccordion"]),n=O(f,r),s=ee(q,r),c=Nr(q,r),l=Y(r);return e.jsx(X.ItemSlot,{scope:r,children:e.jsx(dr,h(x(x({"aria-disabled":s.open&&!c.collapsible||void 0,"data-orientation":n.orientation,id:s.triggerId},l),o),{ref:a}))})});Ce.displayName=q;var we="AccordionContent",Ae=v.forwardRef((t,a)=>{const l=t,{__scopeAccordion:r}=l,o=b(l,["__scopeAccordion"]),n=O(f,r),s=ee(we,r),c=Y(r);return e.jsx(mr,h(x(x({role:"region","aria-labelledby":s.triggerId,"data-orientation":n.orientation},c),o),{ref:a,style:x({"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)"},t.style)}))});Ae.displayName=we;function ke(t){return t?"open":"closed"}var Ir=he,_r=je,Sr=Ne,Ie=Ce,_e=Ae;const Rr=Ir,Se=Q.forwardRef((o,r)=>{var n=o,{className:t}=n,a=b(n,["className"]);return e.jsx(_r,x({ref:r,className:u("border-b",t)},a))});Se.displayName="AccordionItem";const Re=Q.forwardRef((n,o)=>{var s=n,{className:t,children:a}=s,r=b(s,["className","children"]);return e.jsx(Sr,{className:"flex",children:e.jsxs(Ie,h(x({ref:o,className:u("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t)},r),{children:[a,e.jsx(rr,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]}))})});Re.displayName=Ie.displayName;const Pe=Q.forwardRef((n,o)=>{var s=n,{className:t,children:a}=s,r=b(s,["className","children"]);return e.jsx(_e,h(x({ref:o,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"},r),{children:e.jsx("div",{className:u("pb-4 pt-0",t),children:a})}))});Pe.displayName=_e.displayName;const tt=()=>{const{activeIncidents:t,loading:a}=de(),{problematicServices:r,loading:o}=me(),{totalUsers:n,loading:s}=ze(),c=a||o||s,l={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},i={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},d={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0,transition:{duration:.5,ease:[.25,.46,.45,.94]}}};return e.jsxs(m.div,{variants:l,initial:"hidden",animate:"visible",className:"space-y-8",children:[e.jsxs(m.div,{variants:i,className:"space-y-2",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-foreground via-foreground/90 to-foreground/70 bg-clip-text text-transparent",children:"Tableau de Bord"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Vue d'ensemble de l'infrastructure et des services."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsx(m.div,{variants:i,className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c?e.jsxs(e.Fragment,{children:[e.jsx(N,{className:"h-[140px] rounded-xl"}),e.jsx(N,{className:"h-[140px] rounded-xl"}),e.jsx(N,{className:"h-[140px] rounded-xl"})]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{title:"Incidents Actifs",value:t.length.toString(),icon:C,variant:t.length>0?"danger":"success"}),e.jsx(B,{title:"Services Problématiques",value:r.length.toString(),icon:or,variant:r.length>0?"warning":"success"}),e.jsx(B,{title:"Utilisateurs",value:n.toString(),icon:xe,variant:"default"})]})}),e.jsx(m.div,{variants:d,children:e.jsx(gr,{})}),e.jsx(m.div,{variants:d,children:e.jsx(ur,{})})]}),e.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[e.jsx(m.div,{variants:i,children:e.jsx(pr,{})}),e.jsx(m.div,{variants:i,children:e.jsx(vr,{})}),e.jsx(m.div,{variants:i,children:e.jsx(Rr,{type:"single",collapsible:!0,children:e.jsxs(Se,{value:"webhooks",children:[e.jsx(Re,{children:"Instructions pour les Webhooks"}),e.jsx(Pe,{children:e.jsx(nr,{})})]})})})]})]})]})};export{tt as default};
//# sourceMappingURL=Dashboard-DMEiiZca.js.map
